<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
<<<<<<< HEAD
    <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.15.4/css/all.min.css'>
    <link rel='stylesheet' href='css/style.css'>
    <title>ESP32 Music Box</title>
</head>
<body>
    <div class='container'>
        <div class="current-time-container">
            <div class="current-time">
                <span id="currentTime">--:--:--</span>
            </div>
            <div class="current-date">
                <span id="currentDate">--.--.----</span>
            </div>
        </div>
        <h1>ESP32 Music Box</h1>
        
        <div class='player-controls'>
            <button onclick='sendCommand("prev")'><i class='fas fa-step-backward'>⏮</i></button>
            <button onclick='sendCommand("play")'><i class='fas fa-play'>▶</i></button>
            <button onclick='sendCommand("pause")'><i class='fas fa-pause'>⏸</i></button>
            <button onclick='sendCommand("stop")'><i class='fas fa-stop'>⏹</i></button>
            <button onclick='sendCommand("next")'><i class='fas fa-step-forward'>⏭</i></button>
        </div>
        
        <div class='volume-control'>
            <input type='range' id='volume' min='0' max='100' value='50'>
=======
    <link rel='shortcut icon' href='#'>
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css'>
    <link rel='stylesheet' href='css/style.css'>
    <title>ESP32 Müzik Kutusu</title>
    <script src="https://cdn.jsdelivr.net/npm/lamejs@1.2.1/lame.min.js"></script>
</head>
<body>
    <div class='container'>
        <h1>ESP32 Müzik Kutusu</h1>
        
        <div class='progress-container'>
            <span id='trackCurrentTime'>0:00</span>
            <div class='track-progress'>
                <div id='trackProgressBar' class='progress-bar-track'></div>
            </div>
            <span id='trackDuration'>0:00</span>
        </div>
        
        <div class='player-controls'>
            <button onclick='sendCommand("prev")' class='control-btn' title='Önceki'><i class='fas fa-backward-step'></i></button>
            <button onclick='togglePlayStop()' id='playStopBtn' class='control-btn play-btn' title='Çal/Durdur'>
                <i class='fas fa-play'></i>
            </button>
            <button onclick='toggleLoop()' id='loopBtn' class='control-btn' title='Tekrarla'>
                <i class='fas fa-repeat'></i>
            </button>
            <button onclick='sendCommand("next")' class='control-btn' title='Sonraki'><i class='fas fa-forward-step'></i></button>
        </div>
        
        <div class='volume-control'>
            <i class='fas fa-volume-down'></i>
            <input type='range' id='volume' min='0' max='100' value='50' title='Ses Seviyesi'>
            <i class='fas fa-volume-up'></i>
>>>>>>> stable-power-audio
            <span id='volumeValue'>50%</span>
        </div>
        
        <div class='status'>
<<<<<<< HEAD
            <p>Now Playing: <span id='currentTrack'>-</span></p>
            <p>Temperature: <span id='temperature'>-</span>°C</p>
            <p>WiFi: <span id='wifiStatus'>-</span></p>
            <p>Bluetooth: <span id='bluetoothStatus'>-</span></p>
        </div>

        <div class='file-upload'>
            <h2>Upload Music</h2>
            <form id='uploadForm' enctype='multipart/form-data'>
                <input type='file' id='fileInput' accept='.mp3' multiple>
                <button type='button' onclick='uploadFiles()' class='upload-btn'>
                    <i class='fas fa-upload'></i> Upload Files
                </button>
            </form>
            <div id='uploadProgress'></div>
        </div>

        <div class='playlist'>
            <h2>Music Files</h2>
=======
            <p>Çalan Parça: <span id='currentTrack'>-</span></p>
            <p>Sıcaklık: <span id='temperature'>-</span>°C</p>
            <p>WiFi Durumu: <span id='wifiStatus'>-</span></p>
            <p>Saat: <span id='currentTime'>-</span></p>
            <p>Tarih: <span id='currentDate'>-</span></p>
        </div>

        <div class='playlist'>
            <h2>Müzik Dosyaları</h2>
>>>>>>> stable-power-audio
            <ul id='musicList'>
                <!-- JavaScript ile doldurulacak -->
            </ul>
        </div>

<<<<<<< HEAD
        <div class='system-controls'>
            <h2>System Controls</h2>
            <button onclick='resetWiFi()' class='danger-btn'>
                <i class='fas fa-wifi'></i> Reset WiFi Settings
            </button>
            <button onclick='clearNVS()' class='danger-btn'>
                <i class='fas fa-trash'></i> Clear All Data
            </button>
        </div>

        <div class='time-settings'>
            <h2>Time Settings</h2>
            <div class='current-time'>
                <p>RTC Time: <span id='currentTime'>-</span></p>
                <p>RTC Date: <span id='currentDate'>-</span></p>
                <p>NTP Time: <span id='ntpTime'>-</span></p>
                <div class="timezone-select">
                    <label for="utcOffset">Timezone:</label>
                    <select id="utcOffset" onchange="setTimezone()">
                        <option value="-12">UTC-12:00</option>
                        <option value="-11">UTC-11:00</option>
                        <option value="-10">UTC-10:00</option>
                        <option value="-9">UTC-09:00</option>
                        <option value="-8">UTC-08:00</option>
                        <option value="-7">UTC-07:00</option>
                        <option value="-6">UTC-06:00</option>
                        <option value="-5">UTC-05:00</option>
                        <option value="-4">UTC-04:00</option>
                        <option value="-3">UTC-03:00</option>
                        <option value="-2">UTC-02:00</option>
                        <option value="-1">UTC-01:00</option>
                        <option value="0">UTC±00:00</option>
                        <option value="1">UTC+01:00</option>
                        <option value="2">UTC+02:00</option>
                        <option value="3" selected>UTC+03:00 (Turkey)</option>
                        <option value="4">UTC+04:00</option>
                        <option value="5">UTC+05:00</option>
                        <option value="6">UTC+06:00</option>
                        <option value="7">UTC+07:00</option>
                        <option value="8">UTC+08:00</option>
                        <option value="9">UTC+09:00</option>
                        <option value="10">UTC+10:00</option>
                        <option value="11">UTC+11:00</option>
                        <option value="12">UTC+12:00</option>
                    </select>
                </div>
                <button onclick='syncNTP()' class='sync-btn'>
                    <i class='fas fa-sync'></i> Sync from Internet
                </button>
            </div>
            
            <div class='manual-time'>
                <h3>Manual Time Set</h3>
                <input type='datetime-local' id='manualDateTime'>
                <button onclick='setManualTime()'>Set Time</button>
            </div>
            
            <div class='timer-settings'>
                <h3>Timer Settings</h3>
                <div class='timer-item'>
                    <input type='datetime-local' id='timerDateTime'>
                    <select id='timerAction'>
                        <option value='play'>Play</option>
                        <option value='stop'>Stop</option>
                    </select>
                    <button onclick='addTimer()'>Add Timer</button>
                </div>
                <div id='timerList'>
                    <!-- Timer listesi JavaScript ile doldurulacak -->
                </div>
=======
        <div class='upload-section'>
            <h2>Müzik Yükle</h2>
            <div class='format-info'>
                <span class='format-tag mp3'><i class="fas fa-music"></i> MP3</span>
                <span class='format-tag m4a'><i class="fas fa-music"></i> M4A</span>
            </div>
            <form id='uploadForm' enctype='multipart/form-data'>
                <input type='file' id='fileInput' name='file' 
                       accept='.mp3,.m4a' 
                       title='MP3 veya M4A dosyası seçin'
                       multiple>
                <button type='submit' class='upload-btn'>Yükle</button>
            </form>
            <div id='uploadProgress' style='display: none;'>
                <div class='progress-bar'>
                    <div class='progress' id='progressBar'></div>
                </div>
                <span id='progressText'>0%</span>
            </div>
        </div>

        <!-- Kayıt bölümü -->
        <div class='record-section'>
            <h2>Ses Kaydı</h2>
            <div class='record-info'>
                <p><i class="fas fa-info-circle"></i> Safari kullanıcıları için:</p>
                <ol>
                    <li>Ayarlar > Safari > Mikrofon iznini açın</li>
                    <li>Safari'yi tamamen kapatıp yeniden açın</li>
                    <li>Web sitesine tekrar girin ve kayıt düğmesine basın</li>
                </ol>
            </div>
            <div class='record-controls'>
                <button id='recordButton' class='record-btn'>
                    <i class="fas fa-microphone"></i> Kayıt
                </button>
                <div id='recordStatus'>Hazır</div>
                <div id='recordTime'>00:00</div>
>>>>>>> stable-power-audio
            </div>
        </div>
    </div>
    <script src='js/app.js'></script>
</body>
</html> 